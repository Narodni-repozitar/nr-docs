$defs:
  use:
  - ./definitions.yaml
profiles:
- record
- draft
record:
  module:
    qualified: nr_documents
  extend: nr-documents#DocumentModel
  permissions:
    presets:
    - read_only
  pid:
    type: dcmnts
  properties:
    metadata:
      properties:
        use: ./metadata.yaml
  service-config:
    components:
      - PublishDraftComponent("publish_draft", "delete_record")
    imports:
      - import: oarepo_requests.components.requests.PublishDraftComponent
  draft:
    requests:
      publish-draft:
        type:
          base-classes:
            - PublishDraftRequestType
          imports:
            - import: oarepo_requests.types.publish_draft.PublishDraftRequestType
        actions:
          submit:
            class: oarepo_requests.actions.publish_draft.PublishDraftSubmitAction
            generate: False
  requests:
    delete-record:
      type:
        base-classes:
          - DeleteRecordRequestType
        imports:
          - import: oarepo_requests.types.delete_record.DeleteRecordRequestType
      actions:
        submit:
          class: oarepo_requests.actions.delete_topic.DeleteTopicSubmitAction
          generate: False
  use:
  - invenio
  - ./custom_fields.yaml
  - ./requests.yaml
plugins:
  builder:
    disable:
    - script_sample_data
  packages:
  - oarepo-model-builder-nr
  - oarepo-model-builder-ui
  - oarepo-model-builder-files==4.*
  - oarepo-model-builder-cf==4.*
  - oarepo-model-builder-vocabularies==4.*
  - oarepo-model-builder-relations==4.*
  - oarepo-model-builder-requests
  - oarepo-model-builder-drafts
runtime-dependencies:
  nr-metadata: 1.0.0
  nr-oaipmh-harvesters: 1.0.0
  nr-vocabularies: 1.0.0
settings:
  i18n-languages:
  - cs
  - en
  supported-langs:
    cs:
      keyword:
        type: keyword
      text:
        analyzer: czech
    en:
      text: {}
